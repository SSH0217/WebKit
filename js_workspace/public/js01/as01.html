<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css">

    <!-- jQuery library -->
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.slim.min.js"></script>

    <!-- Popper JS -->
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>

    <!-- Latest compiled JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js"></script>
    <title>js01/as01.html</title>
    <style>
        div.col-md-5 {
            background-color: aquamarine;
            height: 300px;
            border: 1px solid black;
            left: 0;
            top: 0;
        }

        div.fixed-box {
            background-color: black;
            width: auto;
            height: auto;
        }

        div.drag-item {
            position: absolute;
            z-index: 1000;
            width: 80%;
        }
    </style>
</head>

<body>
    <div class="container">
        <div class="row">
            <div class="col-md-5" id="target1">
                Drag Target1
                <div class="drag-item" style="background-color: yellow;">
                    Drag Item1
                </div>
                <div class="drag-item" style="background-color: red;">
                    Drag Item2
                </div>
                <div class="drag-item" style="background-color: green;">
                    Drag Item3
                </div>
            </div>
            <div class="col-md-2" id="none-target" >
            </div>
            <div class="col-md-5" id="target2">
                Drag Target2
            </div>
        </div>
    </div>
    <div class="container">


    </div>

    <script>
        var dragItem = document.querySelectorAll('.drag-item');
        var dragTarget1 = document.querySelector('#target1');
        var dragTarget2 = document.querySelector('#target2');
        var nonTarget = document.querySelector('#none-target');

        dragItem.forEach(function (dItem) {
            dItem.addEventListener('mousedown', function (e) {
                var gapX = e.clientX - dItem.offsetLeft;
                var gapY = e.clientY - dItem.offsetTop;

                function moveHandler(e2) {
                    dItem.style.left = e2.clientX - gapX + "px";
                    dItem.style.top = e2.clientY - gapY + "px";

                    console.log(dragTarget1.offsetLeft + nonTarget.offsetLeft, dragTarget1.offsetWidth, e2.clientX)
                }

                window.addEventListener('mousemove', moveHandler);
                dItem.addEventListener('mouseup', function () {
                    window.removeEventListener('mousemove', moveHandler);
                });
            });
        });
    </script>

</body>

</html>